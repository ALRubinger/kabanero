language: ruby
rvm:
- 2.4.1

before_install:
  - sudo apt-get install python3-bs4 -y

before_script:
- chmod +x ./scripts/build_jekyll_maven.sh # or do this locally and commit

# Assume bundler is being used, therefore
# the `install` step will run `bundle install` by default.
script: ./scripts/build_jekyll_maven.sh

# branch whitelist
branches:
  only:
    - multiPane
    - development
    - master

sudo: false # route your build to the container-based infrastructure for a faster build

deploy:
  - provider: script
    on:
      branch: master
    env: ROUTE=qa-guides-prod.mybluemix.net
    script: ./.travis/cf-push.sh
  - provider: script
    on:
      branch: development
    env: ROUTE=qa-guides.mybluemix.net
    script: ./.travis/cf-push.sh
  - provider: script
    on:
      branch: multiPane
    env: ROUTE=qa-guides-multiPane.mybluemix.net
    script: ./.travis/cf-push.sh