<!DOCTYPE html>
<html lang="en">

  <head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Bring your own JSF implementation to Open Liberty 17.0.0.4 - Open Liberty</title>
  <meta name="description" content="Open Liberty is the most flexible server runtime available to Earth’s Java developers.">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link type="text/css" rel="stylesheet" href="/assets/openliberty.css">
  <link type="text/css" rel="stylesheet" href="/assets/coderay-custom.css">

  
  
  
    <link type="text/css" rel="stylesheet" href="/assets/post.css">
  

  

  

  <link rel="canonical" href="http://localhost:4000/news/2017/12/21/jsf-implementation-open-liberty-17004.html">
  <link rel="alternate" type="application/rss+xml" title="Open Liberty" href="/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Asap:400,500" rel="stylesheet">
    
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@OpenLibertyIO" />
  <meta name="twitter:title" content="Open Liberty" />
  <meta name="twitter:description" content="Open Liberty is the most flexible server runtime available to Earth’s Java developers." />
  <meta name="twitter:image" content="https://openliberty.io/img/twitter_card.jpg" />
  
  <meta name="google-site-verification" content="h2P030H9b66CyL1nEmWfrZB8Fr14h9LmVMG7Ur0caBs" />

</head>


  <body>
    
    

    <header>
<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button id="navbar_responsive_button" class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
            <a id="navbar_home_link" class="navbar-brand" href="/" aria-label="Home"></a>
            
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right text-right">
                <li><a href="/about">About</a></li>
                <li><a href="/guides">Guides</a></li>
                <li><a href="/downloads">Downloads</a></li>
                <li><a href="/blog">Blog</a></li>
                <li><a href="/community">Community</a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/docs">Docs</a></li>
                <li class="hidden-xs"><a id="navbar_github_link" href="https://github.com/OpenLiberty" target="new" aria-label="Open Liberty GitHub Repository"></a></li>
            </ul>
        </div>
    </div>
  </nav>
  <div class="hidden">
    <img src="/img/small_logo_white.svg">
    <img src="/img/github_navbar_hover.svg">
  </div>
</header>


    <main aria-label="Content">

      <div id="background_container" class="black_blue_gradient_background">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <img id="intro_logo" src="/img/blog_title_small.svg">
            </div>
            <div id="post_column" class="col-xs-12">
                <div id="article_container">
                    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
                        <header>                        
                            <div class="post_information_container">
                                <img src="https://avatars3.githubusercontent.com/u/3322532" id="author_image">
                                <div id="post_information">
                                    <div id="author_name">Laura Cowen</div>
                                    <div id="post_date">
                                        <time datetime="2017-12-21T05:05:00-06:00" itemprop="datePublished">
                                             Dec 21, 2017
                                        </time>
                                    </div>
                                </div>
                            </div>
                            <h1 itemprop="name headline">Bring your own JSF implementation to Open Liberty 17.0.0.4</h1>
                        </header>
                        <div itemprop="articleBody" id="article_body">
                            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>And, like a flash, a second release of Open Liberty (17.0.0.4) is upon us! Fancy bringing your own JSF implementation (Mojarra or MyFaces) to Open Liberty? You can now (and benefit from CDI) with the JSF Container 2.2 feature. Also, administrators can now configure concurrency policies for managed executors (Concurrency updates), and get distributed tracing with our implementation of opentracing.io.</p>
</div>
<div class="paragraph">
<p>Remember, if you&#8217;re really keen, you can see what&#8217;s being developed in Open Liberty in the <a href="https://openliberty.io/downloads/">nightly builds</a>. Feel free to <a href="https://openliberty.io/contribute/">raise or even fix a bug</a>. Fancy influencing the future direction of Open Liberty? Join the <a href="https://groups.io/g/openliberty">Open Liberty discussion group</a>.</p>
</div>
<div class="paragraph">
<p>As we don&#8217;t have a full set of documentation implemented for Open Liberty yet, the items below point (where relevant) to the official documentation for WebSphere Liberty (which is built on Open Liberty) so you can find out more about them.</p>
</div>
<div class="paragraph">
<p>You can now download Open Liberty and Open Liberty Tools 17.0.0.4.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="https://openliberty.io/downloads/"><img src="/img/blog_btn_download-ol.svg" alt="Download Open Liberty"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="https://stackoverflow.com/tags/open-liberty"><img src="/img/blog_btn_stack.svg" alt="Ask a question on Stack Overflow"></a>
</div>
</div>
<div class="paragraph">
<p>Alternatively, if you&#8217;re using Maven, here are the coordinates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>io.openliberty<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>openliberty-runtime<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>17.0.0.4<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;type&gt;</span>zip<span class="tag">&lt;/type&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or if you&#8217;re using Docker:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>docker pull openliberty/open-liberty</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Open Liberty 17.0.0.4, you&#8217;ll find :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jsfcontainer22">JSF Container 2.2</a></p>
</li>
<li>
<p><a href="#concurrency">Concurrency</a></p>
</li>
<li>
<p><a href="#opentracing">Distributed tracing</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jsfcontainer22">JSF Container 2.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This feature makes it possible to bring your own JSF implementation (either Mojarra or MyFaces) for JSF 2.2 and take advantage of CDI integrations provided by the <code>cdi-1.2</code> feature.</p>
</div>
<div class="paragraph">
<p>To try this, enable the <code>jsfContainer-2.2</code> feature in your <code>server.xml</code>, and package your own JSF API and implementation inside of your application and off you go!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>jsfContainer-2.2<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="concurrency">Concurrency</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The administrator is now able to configure concurrency policies for managed executors for finer-grained control over concurrency constraints and other behavior.  This includes how many tasks are allowed to run in parallel, how many tasks can queue up, and what action to take when it is not possible to queue a task for execution, among other behaviors.  Different policies can be assigned for long-running tasks (identified by the <code>LONGRUNNING_HINT</code> execution property) versus normal tasks.  Managed executors continue to be backed by the Liberty global thread pool and continue to benefit from Liberty&#8217;s autonomic tuning, but it is now possible to impose these constraints to individual managed executors or groups of managed executors (multiple can share a single concurrency policy).</p>
</div>
<div class="paragraph">
<p>To try it out, configure one or more concurrency policies in the <code>server.xml</code> file. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;concurrencyPolicy</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">max10</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">max</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">maxQueueSize</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">30</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">maxWaitForEnqueue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">20s</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">startTimeout</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1m</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Managed executors can be configured to use the concurrency policy as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;managedExecutorService</span> <span class="attribute-name">jndiName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">concurrent/executor1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">concurrencyPolicyRef</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">max10</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;managedScheduledExecutorService</span> <span class="attribute-name">jndiName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">concurrent/executor2</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">concurrencyPolicyRef</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">max10</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info, see the WebSphere Liberty Knowledge Center docs on <a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.liberty.autogen.base.doc/ae/rwlp_config_managedExecutorService.html">Configuring the managed executor service</a> and <a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.liberty.autogen.base.doc/ae/rwlp_config_managedScheduledExecutorService.html">Configuring the managed scheduled executor service</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="opentracing">Distributed tracing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>opentracing-1.0</code> feature, together with a user provided <code>io.opentracing.Tracer</code> implementation, enables JAX-RS applications to automatically create, propagate, and deliver distributed tracing information.</p>
</div>
<div class="paragraph">
<p>In an environment with numerous services communicating with each other, distributed trace information provides a way to view the end-to-end flow of requests through multiple services. In many environments, there is a central trace collection service that accepts distributed tracing information from individual applications (one popular distributed tracing service is Zipkin). The central service correlates the distributed tracing information, and presents the end-to-end request flow information with a UI.</p>
</div>
<div class="paragraph">
<p>The <a href="http://opentracing.io/">opentracing.io</a> project defines an API that applications can use to create, propagate, and deliver distributed trace information. An implementation of the opentracing.io API must be available to an application so that the application can deliver distributed trace information. The implementation of the opentracing.io API must match the implementation of the central trace collection service. For example, if the central trace collection service is Zipkin, then the opentracing.io implementation used by applications must perform distributed tracing functions in a way that is specific to Zipkin.</p>
</div>
<div class="paragraph">
<p>Typically, the developer of each application in the environment must explicitly add code to the application in order for it to create, propagate, and deliver distributed tracing information. With the <code>opentracing-1.0</code> feature of Liberty, developers do not need to add any code to their JAX-RS applications to participate in distributed tracing. The JAX-RS application will automatically create, propagate, and deliver distributed tracing information.</p>
</div>
<div class="paragraph">
<p>Each Liberty server in the environment must be configured with a user feature that provides an implementation of the opentracing.io API. The user feature must provide an implementation of the opentracing.io API that matches the central trace collection service that is used in the environment.</p>
</div>
<div class="paragraph">
<p>You can find sample source code for <a href="https://github.com/WASdev/sample.opentracing.zipkintracer">a user feature that provides a Zipkin-specific opentracing.io API implementation</a> on GitHub. Or you can download <a href="http://central.maven.org/maven2/net/wasdev/wlp/tracer/liberty-opentracing-zipkintracer/1.0/liberty-opentracing-zipkintracer-1.0-sample.zip">a built version of the user feature</a> from Maven Central.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ready-to-give-it-a-try">Ready to give it a try?</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<a class="image" href="https://openliberty.io/downloads/"><img src="/img/blog_btn_download-ol.svg" alt="Download Open Liberty"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="https://stackoverflow.com/tags/open-liberty"><img src="/img/blog_btn_stack.svg" alt="Ask a question on Stack Overflow"></a>
</div>
</div>
</div>
</div>
                        </div>
                        <div id="share_post_container">
                            Share this post:
                            <a id="twitter_link" href="//twitter.com/intent" onclick="window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent('Bring your own JSF implementation to Open Liberty 17.0.0.4') + '&url=' + encodeURIComponent(window.location)); return false"></a>
                            <a id="reddit_link" href="//www.reddit.com/submit" onclick="window.open('//www.reddit.com/submit?url=' + encodeURIComponent(window.location)); return false"></a>
                        </div>
                        
                    </article>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="hidden">
    <img src="/img/twitter_link_hover.svg">
    <img src="/img/reddit_link_hover.svg">
</div>

    </main>

    <footer>
  <div id="footer_container" class="container">
      <div class="row">
          <div class="col-xs-12 text-right">
              <div id="footer_links_container">
                  <a href="https://github.com/OpenLiberty/open-liberty/blob/master/LICENSE" target="new" class="footer_link">License</a>
                  <a href="https://www.ibm.com/privacy/us/en/" target="new" class="footer_link">Privacy policy</a>
                  <a id="footer_twitter_link" href="https://twitter.com/OpenLibertyIO" target="new" aria-label="Twitter"></a>
                  <a id="footer_github_link" href="https://github.com/OpenLiberty" target="new" aria-label="GitHub"></a>
              </div>
              <p id="footer_text">an IBM open source project</p>
              <p id="footer_copyright">&copy; Copyright IBM Corp. 2017</p>
          </div>
      </div>
  </div>
  <div class="hidden">
    <img src="/img/footer_twitter_darker.png">
    <img src="/img/footer_github_darker.png">
  </div>
</footer>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


    

    

  </body>

</html>
